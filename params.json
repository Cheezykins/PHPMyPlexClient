{"name":"PHP MyPlex Client","tagline":"PHP client library for accessing myPlex and Plex Media Centre metadata","body":"# PHP MyPlex Client\r\nPHP client library for accessing myPlex and Plex Media Centre metadata using the MyPlex API.\r\n\r\nIn it's very infant stages at the moment but I will be extending functionality as I can.\r\n\r\n[![Code Climate](https://codeclimate.com/github/Cheezykins/PHPMyPlexClient/badges/gpa.svg)](https://codeclimate.com/github/Cheezykins/PHPMyPlexClient)\r\n\r\n**Basic usage**\r\n\r\n```php\r\nuse PHPMyPlex\\MyPlex;\r\nuse PHPMyPlex\\DirectoryViews as DirectoryViews;\r\n\r\n$myPlex = new MyPlex('MyPlex username', 'MyPlex password');\r\nprintf(\"Signed in as %s\", $myPlex->username);\r\n\r\nlist($myServer) = $myPlex->getServers();\r\nprintf(\"Server %s at %s\", $myServer->name, $myServer->getURL());\r\n\r\n// Get all sections (Libraries) within the Plex Server\r\n$sections = $myServer->getSections();\r\n// Get all items in the Movies library.\r\n$library = $myServer->getSection($sections['Movies'], DirectoryViews\\MovieDirectoryView::ALL);\r\n$movies = $library->movies();\r\nforeach ($movies as $movie) {\r\n  echo $movie->title;\r\n}\r\n\r\n// Syntax is flexible and semantic.\r\n// Lazy loading is used where possible to reduce the web service calls required to plex\r\n\r\n$library = $myServer->getSection('TV Shows', DirectoryViews\\TVDirectoryView::RECENTLY_VIEWED_SHOWS);\r\n\r\n$show = $library->show('The Big Bang Theory')->load();\r\nprintf(\"%s has %s seasons available\", $show->title, count($show->seasons()));\r\n\r\n$seasons = $show->seasons()->loadAll();\r\nforeach ($seasons as $season) {\r\n  $episodes = $season->episodes();\r\n  foreach ($episodes as $episode) {\r\n    printf(\"%s episode %s - %s\", $season->title, $episode->index, $episode->title);\r\n  }\r\n}\r\n\r\n$show = $library->show('Game of Thrones')->load();\r\nprintf(\"%s contains %s episodes\", $show->season('Season 5')->title, $show->season('Season 5')->leafCount);\r\n\r\n// Sessions are supported too.\r\n\r\n$sessionContainer = $server->getSessions();\r\n\r\nforeach ($sessionContainer->sessions() as $session)\r\n{\r\n    if ($session->isSession())\r\n    {\r\n        if ($session->type == 'episode') {\r\n            printf(\"%s is now playing %s - %sx%'.02d - %s (%01.2f%% complete)\",\r\n                $session->child('User')->title,\r\n                $session->grandparentTitle,\r\n                $session->parentIndex,\r\n                $session->index,\r\n                $session->title,\r\n                $session->child('TranscodeSession')->progress\r\n            );\r\n            // Cheezykins is now playing Angel - 1x01 - City of (61.10% complete)\r\n        }\r\n        else if ($session->type == 'movie')\r\n        {\r\n            printf(\"%s is now playing %s (%01.2f%% complete)\" . PHP_EOL,\r\n                $session->child('User')->title,\r\n                $session->title,\r\n                $session->child('TranscodeSession')->progress\r\n            );\r\n            // Cheezykins is now playing Chicken Little (12.04% complete)\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**Installation**\r\n\r\nInstall using [composer](https://getcomposer.org/), you can require cheezykins/phpmyplexclient in your composer.json and it will manage installation automatically. It uses the standard PSR-0 autoloader for classes.\r\n\r\n**Dependencies**\r\n\r\nDepends upon [Httpful](https://github.com/nategood/httpful) - this should be satisfied automatically if installed with composer.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}